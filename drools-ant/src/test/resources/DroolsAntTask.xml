<project default="rules">
	
	<property name="eclipsepath"  value=""/>
	
	<path id="cheese.classpath">
		<pathelement location="${eclipsepath}lib/cheese.jar"/>
	</path>	
	
	<path id="drools.classpath">
		<fileset dir="${eclipsepath}../m2_repo">
			<include name="**/*.jar"/>
		</fileset>		
		<pathelement location="target"/>
	</path>	
	
	<taskdef name="rulebase" classname="org.drools.contrib.DroolsAntTask" classpathref="drools.classpath" />  

	<target name="rules" >
		<rulebase 
			srcdir="${eclipsepath}src/test/resources/rules" 		
			tofile="${eclipsepath}target/cheese.rules"
			classpathref="cheese.classpath" > 
			<include name="*.drl" />
			<include name="*.brl" />
			<include name="*.xml" />			
		</rulebase>
	</target>
	
	<target name="rulesnopackagefile" >
		<rulebase 
			srcdir="${eclipsepath}src/test/resources/packagefiletest/emptydir" 		
			tofile="${eclipsepath}target/cheese.rules"
			classpathref="cheese.classpath" > 
			<include name="*.drl" />
			<include name="*.brl" />			
		</rulebase>
	</target>

	<target name="rulesmanypackagefile" >
		<rulebase 
			srcdir="${eclipsepath}src/test/resources/packagefiletest" 		
			tofile="${eclipsepath}target/cheese.rules"
			classpathref="cheese.classpath" > 
			<include name="*.drl" />
			<include name="*.brl" />
		</rulebase>
	</target>

</project>