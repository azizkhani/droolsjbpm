<HTML>
  <H1>The Audit View</H1>
  <IMG src="./audit.jpg"/>
  <P/>
  The audit view can be used to visualize an audit log that can be created when executing the rules engine.  To create an audit log, use the following code:
  <pre>
    WorkingMemory workingMemory = ruleBase.newWorkingMemory();
    // create a new Working Memory Logger, that logs to file.
    WorkingMemoryFileLogger logger = new WorkingMemoryFileLogger(workingMemory);
    // an event.log file is created in the log dir (which must exist)
    // in the working directory
    logger.setFileName("log/event");

    workingMemory.assertObject( ... );
    workingMemory.fireAllRules();

    // stop logging
    logger.writeToDisk();
  </pre>
  <P/>
  Open the log by clicking the Open Log action (first action in the Audit View) and select the file. The Audit view now shows all events that where logged during the executing of the rules.  There are five types of events (each with a different icon):
  <UL>
    <LI>Object asserted (green square)</LI>
    <LI>Object modified (yellow square)</LI>
    <LI>Object retracted (red square)</LI>
    <LI>Activation created (arrow to the right)</LI>
    <LI>Activation cancelled (arrow to the left)</LI>
    <LI>Activation executed (blue diamond)</LI>
  </UL>
  All these events show extra information concerning the event, like the id and toString representation of the object in case of working memory events (assert, modify and retract), the name of the rule and all the variables bound in the activation in case of an activation event (created, cancelled or executed).  If an event occurs when executing an activation, it is shown as a child of the activation executed event.

  For some events, you can retrieve the "cause":
  <UL>
    <LI>The cause of an object modified or retracted event is the last object event for that object. This is either the object asserted event, or the last object modified event for that object.</LI>
    <LI>The cause of an activation cancelled or executed event is the corresponding activation created event.</LI>
  </UL>
  When selecting an event, the cause of that event is shown in green in the audit view (if visible of course).  You can also right click the action and select the "Show Cause" menu item.  This will scroll you to the cause of the selected event.
</HTML>